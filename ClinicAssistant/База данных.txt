CREATE DATABASE PomoshnikPolicliniki

USE PomoshnikPolicliniki

-- Создание таблицы для пациентов
CREATE TABLE Patients (
    PatientID INT IDENTITY PRIMARY KEY,
    FullName NVARCHAR(100),
    Age INT,
    Gender NVARCHAR(10)
);

-- Создание таблицы для врачей
CREATE TABLE Doctors (
    DoctorID INT IDENTITY PRIMARY KEY,
    FullName NVARCHAR(100),
    Specialty NVARCHAR(100),
    OfficeNumber NVARCHAR(10)
);

-- Создание таблицы для симптомов
CREATE TABLE Symptoms (
    SymptomID INT IDENTITY PRIMARY KEY,
    SymptomName NVARCHAR(100)
);

-- Создание таблицы для наводящих вопросов
CREATE TABLE FollowUpQuestions (
    QuestionID INT IDENTITY PRIMARY KEY,
    SymptomID INT,
    Question NVARCHAR(255),
    FOREIGN KEY (SymptomID) REFERENCES Symptoms(SymptomID)
);

-- Создание таблицы для ответов на наводящие вопросы
CREATE TABLE Answers (
    AnswerID INT IDENTITY PRIMARY KEY,
    QuestionID INT,
    Answer NVARCHAR(255),
    FOREIGN KEY (QuestionID) REFERENCES FollowUpQuestions(QuestionID)
);

-- Создание таблицы для диагнозов
CREATE TABLE Diagnoses (
    DiagnosisID INT IDENTITY PRIMARY KEY,
    DiagnosisName NVARCHAR(100)
);

-- Связь между ответами и диагнозами
CREATE TABLE AnswerDiagnoses (
    AnswerID INT,
    DiagnosisID INT,
    FOREIGN KEY (AnswerID) REFERENCES Answers(AnswerID),
    FOREIGN KEY (DiagnosisID) REFERENCES Diagnoses(DiagnosisID),
);

-- Связь между врачами и диагнозами
CREATE TABLE DoctorDiagnoses (
    DoctorID INT,
    DiagnosisID INT,
    FOREIGN KEY (DoctorID) REFERENCES Doctors(DoctorID),
    FOREIGN KEY (DiagnosisID) REFERENCES Diagnoses(DiagnosisID),
);

-- Таблица для хранения симптомов пациентов
CREATE TABLE PatientSymptoms (
    PatientID INT,
    SymptomID INT,
    FOREIGN KEY (PatientID) REFERENCES Patients(PatientID),
    FOREIGN KEY (SymptomID) REFERENCES Symptoms(SymptomID),
);

-- Таблица для хранения ответов пациентов
CREATE TABLE PatientAnswers (
    PatientID INT,
    AnswerID INT,
    FOREIGN KEY (PatientID) REFERENCES Patients(PatientID),
    FOREIGN KEY (AnswerID) REFERENCES Answers(AnswerID),
);

-- Таблица для хранения диагнозов пациентов
CREATE TABLE PatientDiagnoses(
    PatientID INT,
    DiagnosisID INT,
 Percentageofdiagnosis INT,
    FOREIGN KEY (PatientID) REFERENCES Patients(PatientID),
    FOREIGN KEY (DiagnosisID) REFERENCES Diagnoses(DiagnosisID)
);

INSERT INTO Doctors (FullName, Specialty, OfficeNumber)
VALUES
('Иванов Иван Иванович', 'Терапевт', '101'),
('Петров Петр Петрович', 'Хирург', '102'),
('Сидорова Анна Сергеевна', 'Педиатр', '103'),
('Кузнецов Михаил Андреевич', 'Кардиолог', '104'),
('Морозова Елена Викторовна', 'Невролог', '105'),
('Смирнов Дмитрий Алексеевич', 'Офтальмолог', '106'),
('Алексеев Александр Иванович', 'ЛОР', '107'),
('Кириллова Татьяна Евгеньевна', 'Эндокринолог', '108'),
('Орлов Сергей Николаевич', 'Дерматолог', '109'),
('Романова Мария Васильевна', 'Гастроэнтеролог', '110'),
('Григорьев Николай Павлович', 'Уролог', '111'),
('Зайцева Ольга Владимировна', 'Ревматолог', '112'),
('Тарасов Андрей Петрович', 'Аллерголог', '113'),
('Ефимова Екатерина Сергеевна', 'Иммунолог', '114'),
('Соловьев Максим Алексеевич', 'Инфекционист', '115'),
('Федоров Василий Николаевич', 'Фтизиатр', '116'),
('Лебедев Артем Михайлович', 'Психиатр', '117'),
('Семенова Надежда Викторовна', 'Хирург', '118'),
('Калинина Алла Георгиевна', 'Невролог', '119'),
('Никитин Алексей Дмитриевич', 'Гематолог', '120');

INSERT INTO Symptoms (SymptomName)
VALUES
('Головная боль'),
('Повышенная температура'),
('Кашель'),
('Боль в горле'),
('Насморк'),
('Тошнота'),
('Рвота'),
('Диарея'),
('Запор'),
('Боль в животе'),
('Боль в спине'),
('Боль в суставах'),
('Одышка'),
('Боль в груди'),
('Слабость'),
('Головокружение'),
('Сыпь'),
('Покраснение глаз'),
('Ушная боль'),
('Отеки'),
('Судороги'),
('Тремор'),
('Потеря сознания'),
('Потеря аппетита'),
('Нарушение сна'),
('Изжога'),
('Жжение при мочеиспускании'),
('Частое мочеиспускание'),
('Боль в мышцах'),
('Потеря веса');

INSERT INTO FollowUpQuestions (SymptomID, Question)
VALUES
-- Головная боль
(1, 'Головная боль постоянная или периодическая?'),
(1, 'Боль сильная или умеренная?'),
(1, 'Сопровождается ли головная боль тошнотой или рвотой?'),
(1, 'Есть ли светобоязнь или шумобоязнь?'),

-- Повышенная температура
(2, 'Температура сопровождается ознобом?'),
(2, 'Повышение температуры связано с недавней инфекцией?'),
(2, 'Есть ли у вас потливость?'),
(2, 'Температура выше 38 градусов?'),

-- Кашель
(3, 'Кашель сухой или с мокротой?'),
(3, 'Сопровождается ли кашель болью в груди?'),
(3, 'Есть ли одышка при кашле?'),
(3, 'Усиливается ли кашель ночью?'),

-- Боль в горле
(4, 'Есть ли ощущение першения в горле?'),
(4, 'Боль усиливается при глотании?'),
(4, 'Есть ли увеличение лимфоузлов на шее?'),
(4, 'Боль сопровождается кашлем?'),

-- Насморк
(5, 'Выделения из носа прозрачные или густые?'),
(5, 'Есть ли заложенность носа?'),
(5, 'Сопровождается ли насморк головной болью?'),
(5, 'Есть ли зуд или чихание?'),

-- Тошнота
(6, 'Тошнота связана с приемом пищи?'),
(6, 'Сопровождается ли тошнота рвотой?'),
(6, 'Есть ли головокружение?'),
(6, 'Сопутствует ли тошноте боль в животе?'),

-- Рвота
(7, 'Рвота возникает после еды?'),
(7, 'Есть ли в рвотных массах кровь?'),
(7, 'Сопровождается ли рвота головокружением?'),
(7, 'Есть ли повышение температуры?'),

-- Диарея
(8, 'Есть ли слизь или кровь в стуле?'),
(8, 'Диарея сопровождается болью в животе?'),
(8, 'Сколько раз в день возникает диарея?'),
(8, 'Есть ли сопутствующая тошнота или рвота?'),

-- Запор
(9, 'Как долго сохраняется запор?'),
(9, 'Есть ли боль при дефекации?'),
(9, 'Сопровождается ли запор вздутием живота?'),
(9, 'Используете ли слабительные средства?'),

-- Боль в животе
(10, 'Боль локализована в определенной области живота?'),
(10, 'Есть ли связь боли с приемом пищи?'),
(10, 'Боль сопровождается тошнотой или рвотой?'),
(10, 'Боль острая или тупая?'),

-- Боль в спине
(11, 'Боль связана с физической нагрузкой?'),
(11, 'Есть ли иррадиация боли в ногу?'),
(11, 'Усиливается ли боль в покое?'),
(11, 'Сопровождается ли боль онемением?'),

-- Боль в суставах
(12, 'Есть ли отек сустава?'),
(12, 'Боль усиливается при движении?'),
(12, 'Есть ли скованность в суставах утром?'),
(12, 'Есть ли покраснение кожи над суставом?'),

-- Одышка
(13, 'Одышка возникает в покое или при нагрузке?'),
(13, 'Сопровождается ли одышка кашлем?'),
(13, 'Есть ли чувство нехватки воздуха?'),
(13, 'Одышка связана с аллергией?'),

-- Боль в груди
(14, 'Боль усиливается при вдохе?'),
(14, 'Есть ли иррадиация боли в руку или шею?'),
(14, 'Боль возникает в покое или при физической нагрузке?'),
(14, 'Сопровождается ли боль одышкой?'),

-- Слабость
(15, 'Слабость связана с физической нагрузкой?'),
(15, 'Есть ли повышение температуры?'),
(15, 'Сопровождается ли слабость головокружением?'),
(15, 'Есть ли снижение аппетита?'),

-- Головокружение
(16, 'Головокружение связано с резкими движениями головы?'),
(16, 'Сопровождается ли головокружение тошнотой?'),
(16, 'Есть ли ощущение "плывущего" изображения?'),
(16, 'Сопутствует ли головокружению шум в ушах?'),

-- Сыпь
(17, 'Сыпь сопровождается зудом?'),
(17, 'Сыпь появилась после приема лекарства?'),
(17, 'Есть ли повышение температуры?'),
(17, 'Сыпь локализована или распространена по всему телу?'),

-- Покраснение глаз
(18, 'Есть ли ощущение инородного тела в глазах?'),
(18, 'Сопровождается ли покраснение глаз выделениями?'),
(18, 'Покраснение одностороннее или двустороннее?'),
(18, 'Сопровождается ли покраснение болью?'),

-- Ушная боль
(19, 'Боль усиливается при надавливании на ухо?'),
(19, 'Есть ли выделения из уха?'),
(19, 'Сопровождается ли боль в ухе температурой?'),
(19, 'Боль односторонняя или двусторонняя?'),

-- Отеки
(20, 'Отеки локализованы на ногах?'),
(20, 'Отеки усиливаются к вечеру?'),
(20, 'Есть ли сопутствующая одышка?'),
(20, 'Отеки сопровождаются болью?');

-- Судороги
(21, 'Судороги однократные или повторяющиеся?'),
(21, 'Есть ли потеря сознания при судорогах?'),
(21, 'Сопровождаются ли судороги мышечной болью?'),
(21, 'Судороги возникают в покое или при физической нагрузке?'),

-- Тремор
(22, 'Тремор усиливается при движении?'),
(22, 'Есть ли тремор в состоянии покоя?'),
(22, 'Тремор наблюдается в одной или обеих руках?'),
(22, 'Тремор уменьшается после приема алкоголя?'),

-- Потеря сознания
(23, 'Потеря сознания была кратковременной?'),
(23, 'Было ли головокружение перед потерей сознания?'),
(23, 'Сопровождалась ли потеря сознания судорогами?'),
(23, 'Происходит ли потеря сознания в положении стоя?'),

-- Потеря аппетита
(24, 'Потеря аппетита сопровождается тошнотой?'),
(24, 'Есть ли снижение веса?'),
(24, 'Потеря аппетита связана с приемом определенных продуктов?'),
(24, 'Есть ли сопутствующая слабость или усталость?'),

-- Нарушение сна
(25, 'Проблемы со сном связаны с трудностью засыпания?'),
(25, 'Просыпаетесь ли вы часто ночью?'),
(25, 'Есть ли чувство усталости после сна?'),
(25, 'Сон нарушен из-за боли или других симптомов?'),

-- Изжога
(26, 'Изжога усиливается после приема пищи?'),
(26, 'Есть ли связь изжоги с определенными продуктами?'),
(26, 'Сопровождается ли изжога отрыжкой?'),
(26, 'Чувство жжения возникает в положении лежа?'),

-- Жжение при мочеиспускании
(27, 'Жжение возникает в начале или в конце мочеиспускания?'),
(27, 'Есть ли кровь в моче?'),
(27, 'Сопровождается ли жжение частым мочеиспусканием?'),
(27, 'Есть ли боль внизу живота?'),

-- Частое мочеиспускание
(28, 'Мочеиспускание сопровождается болью или жжением?'),
(28, 'Частое мочеиспускание связано с увеличением потребления жидкости?'),
(28, 'Есть ли ночное мочеиспускание?'),
(28, 'Сопровождается ли частое мочеиспускание изменением цвета мочи?'),

-- Боль в мышцах
(29, 'Боль в мышцах связана с физической нагрузкой?'),
(29, 'Есть ли мышечная слабость?'),
(29, 'Боль локализована или распространена?'),
(29, 'Сопровождается ли боль в мышцах отеком?'),

-- Потеря веса
(30, 'Потеря веса произошла без изменения диеты?'),
(30, 'Есть ли снижение аппетита?'),
(30, 'Потеря веса сопровождается слабостью?'),
(30, 'Есть ли сопутствующая повышенная температура?');